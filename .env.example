# ===========================================
# NexusNote 环境配置模板 (2026 Modern Stack)
# ===========================================
# 复制此文件为 .env 并填入你的配置

# ===========================================
# 数据库（必需）
# ===========================================
DATABASE_URL=postgresql://user:password@host:5432/nexusnote

# ===========================================
# Redis（可选，用于队列和缓存）
# ===========================================
REDIS_URL=redis://localhost:6379

# ===========================================
# AI Provider（必需 - 至少配置一个）
# ===========================================

# 302.ai API Key（推荐 - 支持所有模型）
AI_302_API_KEY=sk-your-302ai-api-key

# DeepSeek API Key（备选）
DEEPSEEK_API_KEY=sk-your-deepseek-api-key

# OpenAI API Key（备选）
OPENAI_API_KEY=sk-your-openai-api-key

# ===========================================
# AI 模型配置（可选 - 有默认值）
# ===========================================

# 通用模型 - Gemini 3 Flash（对话、快速生成、Agent）
AI_MODEL=gemini-3-flash-preview

# Pro 模型 - Gemini 3 Pro（课程内容、长文本）
AI_MODEL_PRO=gemini-3-pro-preview

# 联网搜索模型 - Gemini 3 Flash + Web Search（课程大纲）
AI_MODEL_WEB_SEARCH=gemini-3-flash-preview-web-search

# ===========================================
# Embedding 配置
# ===========================================

# Embedding 模型
EMBEDDING_MODEL=Qwen/Qwen3-Embedding-8B

# Embedding 维度（需与 pgvector halfvec 配置一致）
EMBEDDING_DIMENSIONS=4000

# ===========================================
# Reranker 配置（可选）
# ===========================================
RERANKER_MODEL=Qwen/Qwen3-Reranker-8B
RERANKER_ENABLED=false

# ===========================================
# Notes / Liquid Knowledge 配置
# ===========================================

# 语义聚类阈值（0-1，越小越严格）
NOTES_TOPIC_THRESHOLD=0.25

# ===========================================
# 认证（必需）
# ===========================================
JWT_SECRET=your-random-32-char-secret-key

# ===========================================
# 服务地址
# ===========================================

# 开发环境
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_COLLAB_URL=ws://localhost:1234

# 生产环境（部署时修改）
# NEXT_PUBLIC_API_URL=https://your-api.onrender.com
# NEXT_PUBLIC_COLLAB_URL=wss://your-api.onrender.com
