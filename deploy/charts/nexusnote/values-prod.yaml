# ===========================================
# NexusNote Helm Chart - Production Values
# ===========================================

namespace: nexusnote

image:
  tag: "prod-latest"

env:
  NODE_ENV: "production"
  NEXT_PUBLIC_APP_URL: "https://juanie.art"
  NEXTAUTH_URL: "https://juanie.art"

# 证书配置
issuer:
  email: "admin@juanie.art"

# Infisical 配置
# ⚠️ 部署前填写以下配置
infisical:
  enabled: true
  projectSlug: "nexusnote"  # 修改为你的 Project Slug
  envSlug: "prod"
  # 生产环境：建议使用外部管理凭证，不要写在这里
  # clientId: ""  # 留空，手动创建 Secret
  # clientSecret: ""  # 留空，手动创建 Secret

services:
  web:
    replicaCount: 3
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 256Mi
  collab:
    replicaCount: 3
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 256Mi
  worker:
    replicaCount: 3
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 256Mi
