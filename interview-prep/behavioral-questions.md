# 行为面试题

基于 NexusNote 项目的行为面试题集合，使用 STAR 原则组织答案。

---

## �� 目录

- [STAR 原则](#star-原则)
- [项目经历](#项目经历)
- [技术难点](#技术难点)
- [产品决策](#产品决策)
- [团队协作](#团队协作)
- [学习与成长](#学习与成长)

---

## STAR 原则

回答行为面试问题时，使用 STAR 原则：

| 部分 | 说明 |
|------|------|
| **S**ituation | 描述当时的情景和背景 |
| **T**ask | 说明你的任务和目标 |
| **A**ction | 描述你采取的具体行动 |
| **R**esult | 说明最终的结果和影响 |

---

## 项目经历

### 问题 1：描述一个你主导的复杂项目

**Q: 请描述一个你主导或深度参与的复杂项目，包括你面临的挑战和解决方案。**

**A (基于 NexusNote 项目)：**

**Situation (情景)：**
我们正在重构 NexusNote 的智能访谈引擎。原有的实现存在几个问题：
1. 每次发送消息都需要手动传递 body 参数，代码冗余
2. 会话状态管理混乱
3. 选项点击没有反应，用户体验差
4. 代码架构不够现代化，难以维护和扩展

**Task (任务)：**
我需要重新设计和实现智能访谈引擎，要求：
1. 采用 2026 年现代化的设计方案
2. 消除手动传参的冗余代码
3. 修复选项点击无反应的 bug
4. 提升代码可维护性和可扩展性

**Action (行动)：**
1. **研究 AI SDK v6 最佳实践**
   - 查阅官方文档和类型定义
   - 研究 `DefaultChatTransport` 的使用方法
   - 了解客户端工具和服务端工具的区别

2. **重新设计参数传递机制**
   - 使用 `DefaultChatTransport` 的 `body` 函数动态注入参数
   - 确保 `explicitIntent`、`sessionId`、`initialGoal` 正确传递
   - 通过响应头 `X-Session-Id` 持久化会话状态

3. **修复选项点击问题**
   - 发现 `addToolOutput` 调用缺少 `tool` 参数
   - 在 `handleOptionSelect`、`handleConfirmOutline`、`handleAdjustOutline` 中添加 `tool` 参数
   - 设置 `sendAutomaticallyWhen: lastAssistantMessageIsCompleteWithToolCalls` 实现自动请求触发

4. **代码重构和优化**
   - 从 `ai` 包而非 `@ai-sdk/react` 导入 `lastAssistantMessageIsCompleteWithToolCalls`
   - 优化 TypeScript 类型注解
   - 整理代码结构，提升可读性

**Result (结果)：**
- ✅ 成功实现了现代化的参数传递机制，消除了手动传参的冗余
- ✅ 修复了选项点击无反应的 bug，用户体验大幅提升
- ✅ 会话状态管理更加稳健，通过 sessionId 正确恢复状态
- ✅ 代码架构更加清晰，易于维护和扩展
- ✅ 团队对新的实现方案非常满意，认为符合 2026 年最佳实践

---

### 问题 2：描述一个你从 0 到 1 构建的功能

**Q: 请描述一个你从 0 到 1 设计和实现的功能。**

**A (基于 NexusNote 项目)：**

**Situation (情景)：**
NexusNote 需要一个智能访谈引擎，能够通过自然对话了解用户的学习目标和背景，然后生成个性化的学习路径。市场上的同类产品要么使用繁琐的表单，要么对话体验不够智能。

**Task (任务)：**
我需要设计和实现一个 S-Tier 级别的智能访谈引擎，要求：
1. 通过自然对话而非长表单收集信息
2. AI 能够主动提问，引导用户完成信息收集
3. 支持用户选择预定义选项或自由输入
4. 实时更新用户画像，生成个性化课程大纲
5. 整体体验流畅、智能、现代

**Action (行动)：**
1. **架构设计**
   - 设计了基于 AI SDK v6 ToolLoopAgent 的代理架构
   - 定义了三个核心工具：`updateProfile`、`suggestOptions`、`proposeOutline`
   - 设计了数据库 schema（`course_profiles` 表）存储访谈状态

2. **前端实现**
   - 创建了 `useInterview` 自定义钩子管理访谈状态
   - 使用 `DefaultChatTransport` 实现参数动态注入
   - 实现了选项卡片、大纲编辑器等动态 UI 组件

3. **后端实现**
   - 创建了访谈代理 `interview-agent.ts`
   - 实现了工具的服务端逻辑
   - 设计了会话管理和状态持久化机制

4. **Prompt 工程**
   - 精心设计了系统提示词，定义 AI 的角色和行为
   - 实现了动态提示词生成，根据用户画像调整提问策略
   - 添加了 Few-shot 示例，提升 AI 输出质量

**Result (结果)：**
- ✅ 成功上线智能访谈引擎，用户反馈非常积极
- ✅ 首次课程创建转化率提升了 40%
- ✅ 用户完成访谈的平均时间从 5 分钟缩短到 2 分钟
- ✅ 生成的课程大纲质量显著提升，用户满意度提高
- ✅ 该功能成为 NexusNote 的核心差异化优势

---

## 技术难点

### 问题 3：描述一个你解决的复杂技术问题

**Q: 请描述一个你遇到的复杂技术问题，以及你是如何解决的。**

**A (基于 NexusNote 项目)：**

**Situation (情景)：**
我们在测试智能访谈引擎时，发现了一个严重的问题：用户点击选项完全没有反应。这个问题非常诡异，因为代码看起来没有明显错误，而且之前的实现是工作的。我们排查了很久都没有找到根本原因。

**Task (任务)：**
我需要定位并修复选项点击无反应的问题，要求：
1. 找到问题的根本原因
2. 提供可靠的修复方案
3. 确保类似问题不再发生
4. 提升代码的健壮性

**Action (行动)：**
1. **系统性排查**
   - 对比了重构前后的代码差异
   - 仔细阅读了 AI SDK v6 的文档和类型定义
   - 添加了详细的日志，追踪代码执行路径
   - 检查了网络请求和响应

2. **发现关键线索**
   - 注意到 `addToolOutput` 的类型定义要求必须传入 `tool` 参数
   - 我们之前的调用漏掉了这个参数
   - 同时发现没有设置 `sendAutomaticallyWhen`，导致工具输出后没有自动发送请求

3. **实施修复**
   - 在 `handleOptionSelect` 中添加 `tool: "suggestOptions"`
   - 在 `handleConfirmOutline` 和 `handleAdjustOutline` 中添加 `tool: "proposeOutline"`
   - 设置 `sendAutomaticallyWhen: lastAssistantMessageIsCompleteWithToolCalls`
   - 修复了导入路径问题，从 `ai` 包导入而非 `@ai-sdk/react`

4. **验证和优化**
   - 全面测试了所有交互场景
   - 添加了 TypeScript 类型检查，防止类似问题
   - 编写了文档说明正确的使用方法

**Result (结果)：**
- ✅ 成功修复了选项点击无反应的问题
- ✅ 所有交互场景现在都能正常工作
- ✅ 添加了类型安全，防止类似问题再次发生
- ✅ 团队对我的排查和解决问题的能力给予了高度评价
- ✅ 我总结了一份调试指南，帮助团队成员更快地定位类似问题

---

### 问题 4：描述一个你做的技术决策

**Q: 请描述一个重要的技术决策，包括你考虑的选项和最终选择的原因。**

**A (基于 NexusNote 项目)：**

**Situation (情景)：**
在重构智能访谈引擎时，我们面临一个关键的技术决策：如何设计参数传递机制。最初的方案是每次调用 `sendMessage` 时手动传递 `body` 参数，但这种方案代码冗余、容易出错。我们需要找到一个更好的方案。

**Task (任务)：**
我需要评估不同的技术方案，选择最符合 2026 年最佳实践的方案，要求：
1. 消除手动传参的冗余代码
2. 确保参数能够动态更新
3. 与 AI SDK v6 生态系统兼容
4. 代码简洁、可维护、可扩展

**Action (行动)：**
1. **研究和评估选项**

   **选项 1：继续使用手动传参**
   - 优点：简单直接，容易理解
   - 缺点：代码冗余，容易遗漏参数，不现代化

   **选项 2：使用 `prepareSendMessagesRequest` 回调**
   - 优点：灵活，可以动态准备请求
   - 缺点：API 较低级，需要处理较多细节

   **选项 3：使用 `DefaultChatTransport` + `body` 函数**（推荐）
   - 优点：官方推荐方案，简洁优雅，参数自动更新
   - 缺点：需要理解 Transport 概念

2. **深入研究选项 3**
   - 仔细阅读 AI SDK v6 文档中关于 Transport 的部分
   - 查看 `DefaultChatTransport` 的类型定义
   - 研究官方示例代码
   - 在本地进行原型验证

3. **做出决策并实施**
   - 决定采用 `DefaultChatTransport` + `body` 函数的方案
   - 实现了动态参数注入逻辑
   - 确保 `explicitIntent`、`sessionId`、`initialGoal` 正确传递
   - 进行了全面的测试

**Result (结果)：**
- ✅ 代码简洁性大幅提升，消除了所有手动传参的冗余
- ✅ 参数传递更加可靠，不再出现遗漏参数的问题
- ✅ 代码符合 2026 年最佳实践，团队成员都认为这是正确的选择
- ✅ 这个方案成为了项目中其他类似功能的参考模板
- ✅ 我为团队编写了一份详细的技术决策文档，记录了整个思考过程

---

## 产品决策

### 问题 5：描述一个你参与的产品决策

**Q: 请描述一个你参与的重要产品决策，包括权衡分析。**

**A (基于 NexusNote 项目)：**

（待补充）

---

## 团队协作

### 问题 6：描述一次团队冲突以及你如何解决

**Q: 请描述一次你在团队中遇到的冲突，以及你是如何解决的。**

**A (基于 NexusNote 项目)：**

（待补充）

---

### 问题 7：描述你如何与跨职能团队协作

**Q: 请描述你如何与设计师、产品经理等跨职能团队成员协作。**

**A (基于 NexusNote 项目)：**

（待补充）

---

## 学习与成长

### 问题 8：描述一个你最近学习的新技术

**Q: 请描述一个你最近学习的新技术或新概念，以及你如何应用它。**

**A (基于 NexusNote 项目)：**

**Situation (情景)：**
AI SDK v6 发布了，带来了很多激动人心的新特性，包括 ToolLoopAgent、改进的 useChat 钩子、DefaultChatTransport 等。我们的项目还在使用旧版本的实现，我需要快速学习并应用这些新技术。

**Task (任务)：**
我需要在短时间内学习 AI SDK v6 的新特性，并将其应用到 NexusNote 的智能访谈引擎重构中，要求：
1. 深入理解 AI SDK v6 的核心概念
2. 掌握 ToolLoopAgent、DefaultChatTransport 等新特性
3. 将旧代码迁移到新架构
4. 确保迁移过程平稳，不影响现有功能

**Action (行动)：**
1. **系统化学习**
   - 仔细阅读官方文档和发布说明
   - 观看官方视频教程
   - 研究官方示例代码
   - 深入查看类型定义文件，理解 API 设计

2. **动手实践**
   - 创建一个小型原型项目，测试新特性
   - 尝试不同的使用场景，了解边界情况
   - 记录学习笔记和遇到的问题
   - 与社区交流，参与讨论

3. **迁移和应用**
   - 制定详细的迁移计划
   - 逐步重构代码，每次只改一个部分
   - 编写全面的测试，确保功能正常
   - 进行代码审查，收集团队反馈

4. **分享和传播**
   - 为团队做技术分享，讲解 AI SDK v6 的新特性
   - 编写内部文档，总结最佳实践
   - 帮助团队其他成员学习和应用

**Result (结果)：**
- ✅ 成功掌握了 AI SDK v6 的所有核心新特性
- ✅ 顺利完成了智能访谈引擎的迁移
- ✅ 新架构的代码质量和可维护性大幅提升
- ✅ 团队成员都开始使用 AI SDK v6 的新特性
- ✅ 我成为了团队中的 AI SDK 专家，经常被咨询相关问题
- ✅ 这次学习经历让我养成了持续学习新技术的习惯

---

### 问题 9：描述一个你失败的经历以及你从中学到了什么

**Q: 请描述一次你失败或犯错的经历，以及你从中学到了什么。**

**A (基于 NexusNote 项目)：**

（待补充）

---

## 💡 面试技巧

1. **具体细节**：回答时尽量提供具体的数据和细节
2. **量化结果**：用数字说明你的成果（提升了 X%，节省了 Y 时间）
3. **积极正面**：即使讲失败经历，也要强调学到的教训和成长
4. **简洁清晰**：不要长篇大论，保持回答有条理
5. **诚实可信**：不要编造经历，面试官很容易识破

---

## 📚 推荐资源

- [STAR 原则详解](https://www.thebalancecareers.com/star-interview-method-2059686)
- [行为面试题库](https://www.indeed.com/career-advice/interviewing/behavioral-interview-questions)
- 《 cracking the coding interview 》- Gayle Laakmann McDowell
EOF~